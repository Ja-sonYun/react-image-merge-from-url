{"version":3,"sources":["layout/footer.js","messages.js","layout/header.js","components/addressForm.js","components/avoid-same-origin-policy-problem.js","components/imageProcessing.js","components/mainFunction.js","App.js","serviceWorker.js","index.js"],"names":["Footer","id","className","href","React","Component","SOMETHING_WRONG","ko","jp","en","step","Header","handleChange","event","props","setLan","target","value","setState","lan","ToggleLangMenu","isOpen","state","class","FormControl","Select","labelId","open","this","onClose","onOpen","onChange","MenuItem","ButtonComponent","onClick","loading","Button","variant","CircularProgress","size","AddressForm","regetStatus","isValidURL","length","slice","sendURL","str","RegExp","test","adrf","stepToPercentage","progress","m","i","url","wrapperRef","createRef","setWrapperRef","bind","handleClickOutside","document","addEventListener","removeEventListener","node","current","contains","lightStatus","isLoading","ref","placeholder","type","merge","LinearProgress","avoidSameOriginPolicyProblem","console","error","axios","require","validImageURLsFromString","match","getHTML","a","get","encodeURIComponent","alert","getMetaData","Promise","resolve","reject","img","Image","onload","width","height","src","rawImageDataToImage","responseType","then","response","blob","Blob","data","headers","imgUrl","URL","createObjectURL","getCanvasSize","metadatas","imageHeight","imageWidth","forEach","metadata","html","validURLs","contents","urls","item","indexOf","push","metaDatas","meta","MainFunction","updateProgress","gotEndPoint","ms","gotURL","targetURL","discoverURLs","array","c","imageURLs","getMetaDatas","imagesMeta","fetchImages","mergeImageArrayFormat","message","mergeImages","b64","link","createElement","innerHTML","download","getElementById","appendChild","finally","catch","canvasSize","canvas","ctx","getContext","fillStyle","imageBackgroundColor","fillRect","lastImagePos","toDataURL","x","y","l","convertedURL","App","useState","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","title","ReactDOM","render","process","origin","fetch","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.fa79aae0.chunk.js","sourcesContent":["import React from 'react';\nimport './footer.css';\n\nclass Footer extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"footer\">\n\t\t\t\t<h3 className=\"footer-content\">By Jasonyun <a href=\"https://github.com/Ja-sonYun\">Github</a> | <a href=\"https://abex.dev\">ABEX</a></h3>\n\t\t\t\t<p className=\"footer-links\">used <a href=\"https://allorigins.win/\">all origin</a>'s api to avoid same-origin policy problems.\n\t\t\t\t<br />\n\t\t\t\tSource Code of this page(github) : <a href=\"https://github.com/Ja-sonYun/react-image-merge-from-url\">here</a>\n\t\t\t\t</p>\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nexport default Footer;\n","export const ALL_STEP = 5;\n\n// MESSAGE ( c=null , l=null )\n\n// Progress Messages\nexport const FINDING_IMG = () => { return {\n\tko: 'url에서 이미지 찾는중...',\n\tjp: 'urlからイメージ探索中...',\n\ten: 'Finding images from given url...', step:1}\n};\nexport const IMGS_FOUND = (c) => { return {\n\tko: c + '개의 이미지 발견. 메타데이터 수집중...',\n\tjp: c + ' イメージ発見。メタデータ取集中...',\n\ten: c + ' images found. Start to get metadatas...', step:2}\n};\nexport const PP_BACK = () => { return {\n\tko: '배경 이미지 준비중...',\n\tjp: 'バックグラウンドイメージ作成中...',\n\ten: 'Preparing background image...', step:3 }\n};\nexport const GETTING_IMG = (c, l) => { return {\n\tko: 'url 에서 이미지 다운로드중...(' + c + '/' + l + ')',\n\tjp: 'urlからイメージダウンロード中...(' + c + '/' + l + ')',\n\ten: 'Getting image from url...(' + c + '/' + l + ')', step:3+c }\n};\nexport const START_MERGE = (c) => { return {\n\tko: '완료! 이미지 합치는중...',\n\tjp: '成功！イメージ合成中...',\n\ten: 'Done! Starting merge...', step:4+c }\n};\nexport const DISPLAYING = (c) => { return {\n\tko: '이미지 표시중...',\n\tjp: 'イメージロード中...',\n\ten: 'Displaying image...', step:5+c }\n};\nexport const ALL_DONE = (c) => { return {\n\tko: '완료!',\n\tjp: '成功！',\n\ten: 'All done!', step:6+c }\n};\n\n// Error Messages\nexport const SOMETHING_WRONG = () => { return {\n\tko: '에러! 다시시도해주세요.',\n\tjp: 'エラ！',\n\ten: 'Something wrong!', step:-1 }\n};\nexport const WRONG_URL = () => { return {\n\tko: '정확한 url을 입력해주세요.',\n\tjp: '正しいurlを入力してください。',\n\ten: 'Please enter a correct url.', step:-1 }\n};\nexport const IMG_NOT_FOUND = ()=> { return {\n\tko: '주어진 url에서 이미지를 발견할수 없엇습니다.',\n\tjp: 'urlからイメージを発見できませんでした。',\n\ten: 'Image not found from given url...', step:-1 }\n};\n\n\n// LAYOUT\nexport const ENTER_URL_HERE = () => { return {\n\tko: '이곳에 url을 입력해 주세요...',\n\tjp: 'URLを入力してください。',\n\ten: 'Enter URL here...', }\n};\n\nexport const MERGE_M = () => { return {\n\tko: '합치기',\n\tjp: 'Merge',\n\ten: 'Merge', }\n};\n\nexport const DESCRIPTION = () => { return {\n\tko: 'URL을 입력하시면 해당 URL에 있는 모든이미지를 다운로드하여 한장의 이미지로 합쳐줍니다.',\n\tjp: 'URLを入力すると、そのURLから全てのイメージをダウンロードし、一枚のイメージに合成します。',\n\ten: 'Just put the url. This website will automatically download all images from given url and merge them as an one image file.', }\n};\n\n// 2 means the previous stpes\nexport function getEndPoint(a) {\n\treturn a + 6;\n}\n\nexport function setLan(set) {\n\tconsole.log(set)\n}\n","import React from 'react';\nimport './header.css';\nimport * as message from '../messages.js';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nclass Header extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tlan: 'en',\n\t\t\tisOpen: false,\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.props.setLan(event.target.value);\n\t\tthis.setState({ lan: event.target.value });\n\t}\n\n\tToggleLangMenu = () => {\n\t\tthis.setState({ isOpen: !this.state.isOpen })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p id=\"abex\"><a class=\"AbutBlack\" href=\"https://abex.dev\">abex.dev</a></p>\n\t\t\t\t<FormControl className=\"classes.formControl\" id=\"lanSelection\">\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabelId=\"lanSelect-label\"\n\t\t\t\t\t\tid=\"lanSelect\"\n\t\t\t\t\t\topen={this.state.isOpen}\n\t\t\t\t\t\tonClose={this.ToggleLangMenu}\n\t\t\t\t\t\tonOpen={this.ToggleLangMenu}\n\t\t\t\t\t\tvalue={this.state.lan}\n\t\t\t\t\t\tonChange={this.handleChange}>\n\t\t\t\t\t\t<MenuItem value=\"en\">\n\t\t\t\t\t\t\t<em>en</em>\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"ko\">ko</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"jp\">jp</MenuItem>\n\t\t\t\t\t</Select>\n\t\t\t\t</FormControl>\n\t\t\t\t<p id=\"main\">Image Merger</p>\n\t\t\t\t<p id=\"description\">{ message.DESCRIPTION()[this.props.lan] }</p>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Header;\n","import React from 'react';\nimport './addressForm.css';\nimport * as message from '../messages.js';\nimport { Button, CircularProgress, LinearProgress } from '@material-ui/core';\n\nfunction ButtonComponent(props) {\n\tconst { onClick, loading, lan } = props;\n\treturn (\n\t\t<div id=\"buttonSection\">\n\t\t\t<Button variant=\"outlined\" onClick={onClick}>\n\t\t\t\t{loading && <CircularProgress size={14}/>}\n\t\t\t\t{!loading && message.MERGE_M()[lan]}\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n\nfunction validURL(str) {\n\tlet pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n\t\t'((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n\t\t'((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n\t\t'(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n\t\t'(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n\t\t'(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n\treturn !!pattern.test(str);\n}\n// https://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-a-url\n\nclass AddressForm extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\turl: '',\n\t\t\tisValidURL: '',\n\t\t};\n\n\t\tthis.wrapperRef = React.createRef();\n\t\tthis.setWrapperRef = this.setWrapperRef.bind(this);\n\t\tthis.handleClickOutside = this.handleClickOutside.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener('mousedown', this.handleClickOutside);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener('mousedown', this.handleClickOutside);\n\t}\n\n\tsetWrapperRef(node) {\n\t\tthis.wrapperRef = node;\n\t}\n\n\thandleClickOutside(event) {\n\t\tif (this.wrapperRef && !this.wrapperRef.current.contains(event.target) && this.state.isValidURL[this.state.isValidURL.length-1] !== 't') {\n\t\t\tlet lightStatus = this.state.isValidURL ? this.state.isValidURL + '-light' : '';\n\t\t\tthis.setState({ isValidURL: lightStatus });\n\t\t}\n\t}\n\n\tregetStatus = () => {\n\t\tif(!this.state.isValidURL) {\n\t\t\tthis.setState({ isValidURL: 'clicked' });\n\t\t} else {\n\t\t\tif(this.state.isValidURL[this.state.isValidURL.length-1] === 't') {\n\t\t\t\tthis.setState({ isValidURL: this.state.isValidURL.slice(0, -6) });\n\t\t\t}\n\t\t}\n\t}\n\n\tsendURL = (event) => {\n\t\tif(validURL(event.target.value)) {\n\t\t\tthis.setState({ isValidURL: 'valid' });\n\t\t\tthis.props.adrf(event.target.value);\n\t\t} else {\n\t\t\tif(event.target.value === '') {\n\t\t\t\tthis.setState({ isValidURL: '' });\n\t\t\t} else {\n\t\t\t\tthis.setState({ isValidURL: 'invalid' });\n\t\t\t}\n\t\t\tthis.props.adrf('');\n\t\t}\n\t}\n\n\tstepToPercentage = () => {\n\t\tif(this.props.progress[2] === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn (this.props.progress[0]/this.props.progress[2]) * 100;\n\t}\n\n\tm = (i) => {\n\t\treturn i[this.props.lan];\n\t}\n\n\trender() {\n\t\tlet progress = this.props.progress[2] === 0 ? 0 : (this.props.progress[0] / this.props.progress[2]) * 100;\n\t\tlet isLoading = (progress < 100 && progress > 0) ? true : false;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<input onClick={this.regetStatus} ref={this.wrapperRef} placeholder={this.m(message.ENTER_URL_HERE())} className={this.state.isValidURL} type=\"text\" onChange={this.sendURL}/>\n\t\t\t\t<br />\n\t\t\t\t<div id=\"progressSection\">\n\t\t\t\t\t<ButtonComponent onClick={this.props.merge} loading={isLoading} lan={this.props.lan} />\n\t\t\t\t\t{ isLoading && <LinearProgress variant=\"determinate\" value={this.props.progress[2]===0 ? 0 : progress}/>}\n\t\t\t\t\t<p id=\"progressInfo\">{ this.props.progress[1] }</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nexport default AddressForm;\n","// allOrigins => https://allorigins.win/\n// Pull contents from any page via API (as JSON/P or raw) and avoid Same-origin policy problems.\n\nconst ASOPP_URL = 'https://api.allorigins.win/get?url=';\n\nconst ASOPP_RAW = 'https://api.allorigins.win/raw?url=';\n\n// param => target url and url or raw\nexport default function avoidSameOriginPolicyProblem(url, type) {\n\tif(type === \"url\") {\n\t\treturn ASOPP_URL + url;\n\t} else if(type === \"raw\") {\n\t\treturn ASOPP_RAW + url;\n\t} else {\n\t\tconsole.error(\"wrong parameter!\")\n\t}\n}\n","import avoidSameOriginPolicyProblem from './avoid-same-origin-policy-problem.js';\n\nconst axios = require(\"axios\");\n// const cheerio = require(\"cheerio\");\n\nfunction validImageURLsFromString(str) {\n\tlet pattern = /(?:(?:https?|ftp|file):\\/\\/|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*\\.(jpg|jpeg|png)/igm;\n\tconst targetURL = str;\n\treturn targetURL.match(pattern);\n}\n\nasync function getHTML(url) {\n\ttry {\n\t\treturn await axios.get(avoidSameOriginPolicyProblem(encodeURIComponent(url), 'url'));\n\t} catch (error) {\n\t\talert(error);\n\t}\n}\n\nfunction getMetaData(url) {\n\treturn new Promise(function(resolve, reject) {\n\t\tlet img = new Image();\n\t\timg.onload = function () {\n\t\t\tresolve([this.width, this.height]);\n\t\t};\n\t\timg.src = url;\n\t})\n}\n\nexport function rawImageDataToImage(url) {\n\treturn new Promise(function(resolve, reject) {\n\t\taxios.get(avoidSameOriginPolicyProblem(encodeURIComponent(url), 'raw'), {\n\t\t\tresponseType: 'arraybuffer',\n\t\t}).then(response => {\n\t\t\tlet blob = new Blob([response.data],\n\t\t\t\t\t\t\t\t{type: response.headers['content-type']});\n\t\t\tlet imgUrl = URL.createObjectURL(blob);\n\t\t\tresolve(imgUrl);\n\t\t});\n\t})\n}\n\nexport function getCanvasSize(metadatas) {\n\tlet imageHeight = 0;\n\tlet imageWidth = 0;\n\tmetadatas.forEach((metadata) => {\n\t\timageHeight += metadata[1];\n\t\timageWidth = imageWidth < metadata[0] ? metadata[0] : imageWidth;\n\t});\n\n\treturn [imageWidth, imageHeight];\n}\n\nexport async function discoverURLs(url) {\n\tlet validURLs;\n\tawait getHTML(url).then(html => {\n\t\tvalidURLs = validImageURLsFromString(html.data.contents);\n\t});\n\n\t// drop duplicate links\n\tlet urls = [];\n\tvalidURLs.forEach((item) => {\n\t\tif(urls.indexOf(item) < 0) {\n\t\t\turls.push(item);\n\t\t}\n\t});\n\n\treturn urls;\n}\n\nexport async function getMetaDatas(urls) {\n\tlet metaDatas = [];\n\n\tfor(const url of urls) {\n\t\tawait getMetaData(url).then(meta => {\n\t\t\tmetaDatas.push(meta);\n\t\t})\n\t}\n\n\treturn metaDatas;\n}\n","import React from 'react';\nimport AddressForm from './addressForm.js';\nimport { getCanvasSize, rawImageDataToImage, discoverURLs, getMetaDatas } from './imageProcessing.js';\nimport mergeImages from 'merge-images';\nimport * as message from '../messages.js';\n\nclass MainFunction extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\ttargetURL: '',\n\t\t\timageURLs: [],\n\t\t\timagesMeta: [],\n\t\t\timageBackgroundColor: 'white',\n\t\t\tprogress: [0, '', 0], // { step : 0, message : '' , end point : 0 } end point will setted up after finding image.\n\t\t};\n\t}\n\n\tupdateProgress = (m, gotEndPoint=0) => {\n\t\tlet ms = m[this.props.lan];\n\t\tif(this.state.progress[2] !== 0) { // When it got the end point of the progress, keep it in the array\n\t\t\tthis.setState({ progress: [m['step'], ms, this.state.progress[2]] });\n\t\t} else { // First initialize of the end point.\n\t\t\tthis.setState({ progress: [m['step'], ms, gotEndPoint] });\n\t\t}\n\t}\n\n\t// using this function from addressForm.js. passed from render>div>AddressForm as adrf.\n\tgotURL = (url) => {\n\t\tthis.setState({ targetURL: url });\n\t}\n\n\tmerge = () => {\n\t\tif(!this.state.targetURL) {\n\t\t\tthis.updateProgress(message.WRONG_URL());\n\t\t\treturn;\n\t\t}\n\n\t\tthis.updateProgress(message.FINDING_IMG());\n\n\t\t// find image file links from target url\n\t\tdiscoverURLs(this.state.targetURL)\n\t\t\t.then(array => {\n\t\t\t\tif(array == null) {\n\n\t\t\t\t\tthis.updateProgress(message.IMG_NOT_FOUND());\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// set state after got all image file links\n\t\t\t\tthis.setState({ imageURLs: array });\n\n\t\t\t\t// Send end point of the progress.\n\t\t\t\tthis.updateProgress(message.IMGS_FOUND(array.length), message.getEndPoint(array.length));\n\n\t\t\t\t// get metadatas from image file links\n\t\t\t\tgetMetaDatas(this.state.imageURLs).then(metadatas => {\n\n\t\t\t\t\tthis.setState({ imagesMeta: metadatas });\n\n\t\t\t\t\tthis.fetchImages().then((mergeImageArrayFormat) => {\n\t\t\t\t\t\tthis.updateProgress(message.START_MERGE(this.state.imageURLs.length));\n\t\t\t\t\t\tmergeImages(mergeImageArrayFormat).then(b64 =>{\n\t\t\t\t\t\t\tlet link = document.createElement('a');\n\t\t\t\t\t\t\tthis.updateProgress(message.ALL_DONE(this.state.imageURLs.length));\n\t\t\t\t\t\t\tlink.innerHTML = \"download image\";\n\t\t\t\t\t\t\tlink.href = b64;\n\t\t\t\t\t\t\tlink.download = \"merged-image.png\";\n\t\t\t\t\t\t\tdocument.getElementById(\"resultImageSection\").appendChild(link);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\t// ALL_DONE ( array length for keep step count. )\n\t\t\t\t\t\tthis.updateProgress(message.DISPLAYING(this.state.imageURLs.length));\n\t\t\t\t\t});\n\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\tthis.updateProgress(message.IMG_NOT_FOUND());\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthis.updateProgress(message.WRONG_URL());\n\t\t\t});\n\t}\n\n\tfetchImages = async () => {\n\t\tif(this.state.imageURLs.length !== this.state.imagesMeta.length) {\n\t\t\tthis.updateProgress(message.SOMETHING_WRONG);\n\t\t\treturn;\n\t\t}\n\n\n\t\tthis.updateProgress(message.PP_BACK());\n\n\t\t// set background image\n\t\tlet canvasSize = getCanvasSize(this.state.imagesMeta);\n\t\tlet canvas = document.createElement(\"CANVAS\");\n\t\tcanvas.width = canvasSize[0];\n\t\tcanvas.height = canvasSize[1];\n\t\tlet ctx = canvas.getContext(\"2d\");\n\t\tctx.fillStyle = this.state.imageBackgroundColor;\n\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\tlet lastImagePos = 0;\n\t\tlet mergeImageArrayFormat = [{ src: canvas.toDataURL(), x:0, y:0 }];\n\n\t\tfor(let i = 0; this.state.imageURLs.length > i; i++) {\n\n\t\t\tthis.updateProgress(message.GETTING_IMG(i+1, this.state.imageURLs.length));\n\n\t\t\tlet convertedURL = await rawImageDataToImage(this.state.imageURLs[i]);\n      mergeImageArrayFormat.push({ src: convertedURL, x: 0, y: lastImagePos})\n      lastImagePos += this.state.imagesMeta[i][1];\n\t\t}\n\n\t\treturn mergeImageArrayFormat;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<AddressForm adrf={this.gotURL} merge={this.merge} progress={this.state.progress} lan={this.props.lan}/>\n\t\t\t\t<div id=\"resultImageSection\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nexport default MainFunction;\n","import React from 'react';\nimport Footer from './layout/footer.js';\nimport Header from './layout/header.js';\nimport MainFunction from './components/mainFunction.js';\nimport './App.css';\n\nfunction App() {\n\tconst [lan, setLan] = React.useState('en');\n\tconst setLanguage = (lan) => {\n\t\tsetLan(lan);\n\t};\n\n  \treturn (\n\t  \t<div className=\"App\">\n\t\t\t<Header setLan={ setLanguage } lan={lan}/>\n\t\t\t<MainFunction className=\"main-content\" lan={lan}/>\n\t\t\t<Footer/>\n\t  \t</div>\n  \t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\ndocument.title = \"Image Merger\";\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();\n"],"sourceRoot":""}